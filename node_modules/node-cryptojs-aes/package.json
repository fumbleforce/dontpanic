{
  "author": {
    "name": "Jack Carrick Xiang Cheng",
    "email": "chengxianga2008@yahoo.com",
    "url": "inovlab.com"
  },
  "name": "node-cryptojs-aes",
  "description": "Standalone cryptographic library. A minimalist port of cryptojs javascript library to node.js, that supports AES symmetric key cryptography.",
  "version": "0.3.9",
  "repository": {
    "type": "git",
    "url": "git://github.com/chengxianga2008/node-cryptojs-aes.git"
  },
  "main": "cryptojs.js",
  "dependencies": {},
  "devDependencies": {},
  "optionalDependencies": {},
  "engines": {
    "node": "*"
  },
  "homepage": "https://github.com/chengxianga2008/node-cryptojs-aes",
  "readme": "node-cryptojs-aes\n=================\n\n**node-cryptojs-aes** is a minimalist port of cryptojs javascript library to node.js, that supports AES symmetric key cryptography.\n\nUnlike node.js native crypto library, **node-cryptojs-aes** removes openssl dependency.\n\nIt is built upon award winning browser side javascript library CryptoJS. currently, it has been updated to be compatible with CryptoJS version 3.0.2. \n\n**node-cryptojs-aes** doesn't make any modification to original cryptojs library, the syntax remains the same in accordance with [CryptoJS documentation](http://code.google.com/p/crypto-js/). \n\n**node-cryptojs-aes** doesn't rely on any external library, such as native openssl libary or any external node.js modules. As a node.js module, it can simply be installed through npm package management system. There is no configuration needed also.\n\n**node-cryptojs-aes** maximises node.js design spirit. Browser side and server side are running identical javascript cryptography codebase. It allows coder to migrate any browser side logic to server or vice versa without any modification. The message passing between server side and client side has been drastically simplified. The encrypted JSON data is passed between client side and server side without any additional parsing or encoding effort made on both side.\n\n## Features\n\n  * **Self Contained** It doesn't rely on any external dependency.\n  * **Server Side Cryptography** It is the only up and running server side javascript cryptography library so far. \n  * **Cross Platform** It is working across all node.js supported platform.\n  * **Code Base** Browser and Server share same codebase.\n  * **AES symmetric key cryptography** It supports AES-128, AES-192 and AES-256 Encryption.\n  * **Encoding** It supports Base64 encoding, Hexadecimal, Utf-8 and binary.\n  * **Cipher Input** The key or iv(initialization vector) can be passed in as parameter of encryption function, or single passphrase can be passed in as parameter.\n\n## Sample Usage\n\nThis is a complete example of server encrypt data, browser request encrypted data and passphrase, and processing decipher subsequently.\n\nThe logic on node.js server http request handler consists of two parts.\n\nRight off the bat, it generates random passphrase.\n\n```javascript\n//import crypto module to generate random binary data\nvar crypto = require('crypto');\n\n// generate random passphrase binary data\nvar r_pass = crypto.randomBytes(128);\n\n// convert passphrase to base64 format\nvar r_pass_base64 = r_pass.toString(\"base64\");\n\nconsole.log(r_pass_base64);\n```\n\nThen, it performs data encryption\n\n```javascript\n//import node-cryptojs-aes modules to encrypt or decrypt data\nvar node_cryptojs = require('node-cryptojs-aes');\n\n//node-cryptojs-aes main object;\nvar CryptoJS = node_cryptojs.CryptoJS;\n\n// custom json serialization format\nvar JsonFormatter = node_cryptojs.JsonFormatter;\n\n// encrypt plain text with passphrase and custom json serialization format, return CipherParams object\nvar encrypted = CryptoJS.AES.encrypt(\"I love maccas!\", r_pass_base64, { format: JsonFormatter });\n\n// convert CipherParams object to json string for transmission\nvar encrypted_json_str = encrypted.toString();\n\nconsole.log(encrypted_json_str);\n```\n\nJsonFormatter is a custom json serialization implementation, you might create your prefered json serialization to fit into your own structure. The code snippets of JsonFormatter shipped with **node-cryptojs-aes** is as follows.\n\n```javascript\n//create custom json serialization format\nvar JsonFormatter = {\n\tstringify: function (cipherParams) {\n\t\t// create json object with ciphertext\n\t\tvar jsonObj = {\n\t\t\tct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64)\n\t\t};\n\t\t\n\t\t// optionally add iv and salt\n\t\tif (cipherParams.iv) {\n\t\t\tjsonObj.iv = cipherParams.iv.toString();\n\t\t}\n\t\t\n\t\tif (cipherParams.salt) {\n\t\t\tjsonObj.s = cipherParams.salt.toString();\n\t\t}\n\n\t\t// stringify json object\n\t\treturn JSON.stringify(jsonObj)\n\t},\n\n\tparse: function (jsonStr) {\n\t\t// parse json string\n\t\tvar jsonObj = JSON.parse(jsonStr);\n\t\t\n\t\t// extract ciphertext from json object, and create cipher params object\n\t\tvar cipherParams = CryptoJS.lib.CipherParams.create({\n\t\t\tciphertext: CryptoJS.enc.Base64.parse(jsonObj.ct)\n\t\t});\n\t\t\n\t\t// optionally extract iv and salt\n\t\tif (jsonObj.iv) {\n\t\t\tcipherParams.iv = CryptoJS.enc.Hex.parse(jsonObj.iv);\n\t\t}\n            \n\t\tif (jsonObj.s) {\n\t\t\tcipherParams.salt = CryptoJS.enc.Hex.parse(jsonObj.s);\n\t\t}\n\t\t\n\t\treturn cipherParams;\n\t}\n};\n```\n\nIf running express to serve http request on node.js, the response can be\n\n```javascript\napp.get('/crypto', function(request, response) {\n\n    // encryption logic here\n\n    response.json({\n\tencrypted : encrypted_json_str,\n\tpassphrase : r_pass_base64\n    });\n\n});\n```\n\nOn browser side, it will query the encrypted json string and also passphrase. If using AJAX to access, the code can be\n\n```javascript\n$.get(\"/crypto\", function(data){\n\n    // retrieve encrypted json string \n    var encrypted_json_str = data.encrypted;\n    \t\t\n    console.log(\"encrypted json string is: \" + encrypted_json_str);\n    \t\t\n    // retrieve passphrase string\n    var r_pass_base64 = data.passphrase;\n    \t\t\n    console.log(\"passphrase is: \" + r_pass_base64);\n    \t\t\n    // decrypt data with encrypted json string, passphrase string and custom JsonFormatter\n    var decrypted = CryptoJS.AES.decrypt(encrypted_json_str, r_pass_base64, { format: JsonFormatter });\n\n    // convert to Utf8 format\n    var decrypted_str = CryptoJS.enc.Utf8.stringify(decrypted);\n    \t\t\n    console.log(\"decrypted string: \" + decrypted_str);\n});\n```\n\nAlso remember to add cryptojs javascript library and JsonFormatter to your index.html file.\n\n```html\n<script type=\"text/javascript\" src=\"http://chengxianga2008.github.com/node-cryptojs-aes/client/aes.js\"></script>\n<script type=\"text/javascript\" src=\"http://chengxianga2008.github.com/node-cryptojs-aes/client/jsonformatter.js\"></script>\n```\n\n\n## Installation\n\nInstall through npm\n\n```\nnpm install node-cryptojs-aes\n```\n\n## Changelog\n\n**node-cryptojs-aes** Version 0.3.7 - 01/08/2012\n  \n  * Add browser side support\n\n**node-cryptojs-aes** Version 0.3.4 - 21/07/2012\n\n  * update to cryptojs v3.0.2\n\n## Donation\n\nTo support the developer's development and contribute to open source community and node.js community, you might donate money to help out your fellowmen, no matter how large or small, it all counts. With your effort, we can make a better world, Thank you.\n\n[![Donate to developer](https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QPDFGUA4XRX5E)\n\n\n",
  "readmeFilename": "README.md",
  "_id": "node-cryptojs-aes@0.3.9",
  "_from": "node-cryptojs-aes@"
}
